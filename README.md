# One-week-CP_Pairing
这是2023-2024-1 SJTU CS2309“问题求解与实践”的课程项目2（自选主题项目）
### 序言

>当我们选择伴侣时，在思考什么？
>
>即便我们深藏心底，也都心照不宣。
>
>回忆我们认识的人，谁"最"与我合适。
>
>ZFC系统有选择公理，选择暗含顺序。
>
>即便我们不愿承认，”最“字暗含顺序。
> <br>
> <br>
> <br>
>物语收集信息，为大家两两打分。
>
>以数学的优美，构造一种顺序。
>
>性别是否接受，年纪是否相当。
>
>兴致是否相投，性格是否相容。
>
>遥遥闵行徐汇，或是共饮中院热水。
>
>他乡偶遇故知，或是千里共聚鹊桥。
>
>以数学的严谨，描绘缘分的奇妙。
> <br>
> <br>
> <br>
>当我们选择伴侣时，在思考什么？
>
>我们渴望情投意合，两情相悦。
>
>心中预先设定顺序，不过一厢情愿。
>
>相看两不厌，牵手靠配对。
> <br>
> <br>
> <br>
>选择Gale-Shapley还是Edmonds？
>
>要金玉良缘还是要天作之合？
>
>博弈与运筹中，
>
>给出最优的匹配。

### 项目简介与问题描述
该项目为自选主题任务。主要实现了 **“三日情侣”活动中，基于稳定匹配算法，根据参与者填写的问卷信息实现情侣配对**的功能。该项目有如下特点：
- **技术多元性**: 考虑到隐私保护与算法鲁棒性测试的需要，本项目利用 **Python脚本**生成大量、多组、多元的参与者信息；为契合课程要求，项目 **核心代码均利用C++实现**，安装并利用 **外部库nlohmann_json**实现C++中读取jsonl形式存储的参与者信息，符合项目 **“使用库编程”** 的要求；对于异性恋中男女不均的情况采用类似**贪心策略**的处理，对于同性恋参与者的匹配借助**遗传算法**进行配对策略的迭代与优化，符合项目 **“使用启发式算法”** 的要求；利用fltk库实现**结果可视化**与分析，符合项目 **“利用FLTK进行图形界面编程”** 的要求，总代码量约1600行，基本符合 **代码量500-1500左右”** 的要求
- **策略有效性**: 本项目中核心算法策略为二分图稳定匹配的Gale-Shapley算法，同时针对男女人数不平衡，同性恋参与者，参与者对某些指标的硬性要求，部分组合匹配度过低等情况添加了**分组配对、设定阈值、一票否决等策略机制**，在3组特征多元的测试集上，在 **“配对成功率”** ，**”净配对成功率“** **“优选率”** 三项指标上取得了良好的效果。同时对改进的Gale-Shapley算法进行理论分析，确保配对合理性和收敛性。
- **算法鲁棒性**: 同时通过对核心配对方法进行封装，对吸引力分值正则化，允许灵活调整分组模式、阈值与演化代数等方式，减小了不同参与者特征分布，打分偏好等对配对准确性的影响，增强程序的灵活性。项目发布之前生成多组测试集进行算法测试、结果可视化和消融实验，有效地验证了算法的鲁棒性。
- **场景实用性**:本项目基于**2023年11月、12月**公众号“交大十点物语”开展的高热度两次三日情侣/一周情侣活动，与活动主办方、算法负责人进行沟通与探讨，广泛吸收**两次活动中上海交大，华东师范大学一千余名活动参与者的反馈信息和校园论坛上的相关讨论意见**，完成算法的设计与实现，源于实践，解决真实的问题。

  

